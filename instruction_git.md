# **Инструкция по работе с Git**

![Man_in_a_bowler_cap](Man_in_a_bowler_cap.jpg)

## Предварительная настройка Git

Чтобы "представиться" программе git, нужно ввести команды: 

    git config --global user.name "Ваше имя"
    git config --global user.email "Ваш e-mail"

## Создание репозитория

Чтобы инициировать новый репозиторий, есь команда 

    git init

 ## Добавление в индекс

 чтобы добавить изменения в индекс (для фиксации в следующем коммите), нужно ввести команду: 

    git add <имя_файла>

## Фиксация изменений

1. Чтобы зафиксировать изменения, добавленные в индекс, нужно ввести команду: 

        git commit 

   Команда git commit берёт все данные, добавленные в индекс с помощью git add, и сохраняет их во внутренней базе данных, делая данную версию текущей. Если данная команда используется без флага -m, то git перебросит нас в окно редактора, где мы должны будем ввести комментарий к данной версии. 

   Чтобы начать вводить текст комментария, надо сначала нажать на клавишу i (insert), чтобы активизировать курсор. 

   Когда ввод комментария завершен, нужно выйти из редактора последовательным нажатием четырех клавиш: ESC, :, w, q.

   Запомнить сложно, но можно! 

2. Чтобы добавить комментарий к commit'у, не переходя в окно редактора, в команде commit предусмотрен флажок "-m" (от message). Текст_сообщения, который мы введем в качестве параметра этой команды, будет являться маркетом данного коммита при просмотре истории версий. 

        git commit -m "Текст_сообщения"

    **_Заключать комментарий в двойные кавычки обязательно!!!_**

3. Использование флага "-a" позволяет "слить" в одну постоянно используемые в паре две команды: 

        git add <Имя_файла>
        git commit 

    в одну: 

        git commit -am   ИЛИ    git commit -a -m

4. Команда: 

        git commit -am "Текст_сообщения"

    заменяет собой последовательность команд: 

        git add <Имя_файла>
        git commit -m "Текст_сообщения"

## Просмотр истории зафиксированных изменений (коммитов)

1. Для просмотра всех зафиксированных изменений применяется команда 

        git log

   Используемая в таком виде, она выводит на экран последовательность информационных сообщений обо всех произведенных (зафиксированных) изменениях нашего файла в обратном хронологическом порядке (последние - первыми). Первая строка каждого такого сообщения выделяется цветом и содержит номер коммита, к примеру: 

   commit C19f90611522e12..., 

   где C19f900... и есть номер коммита, или __*hash*__ по-английски ("частичка"). 

   Кроме номера, каждое сообщение о коммите содержит информацию о его авторе, дату фиксации и комментарий - тот самый "Текст_сообщения", который мы вводили в качестве параметра к команде commit -m.

2. Поскольку окно терминала не очень велико, иногда, чтобы получить общее представление обо всех производившихся изменениях, бывает удобнее воспользоваться командой 

        git log --oneline

   Она сожмет представление каждого коммита до одной строки, и в окне терминала поместится бОльшее количество коммитов. При этом будет оставлена следующая информация: первые несколько символов от номера коммита (достаточные для его однозначной идентификации) и комментарий. 

   Пример: e511c94 Commit command description is finished

3. По умолчанию команда git log выдает нам историю изменений, производимых в текущей ветке. Если мы хотим увидеть изменения, произошедшие во всех ветках нашего дерева версий, придется воспользоваться расширенной версией команды: 

        git log --all

   или 

        git log --all --oneline

   (если нам достаточно краткой информации о каждом коммите). 

## Сравнение версий (коммитов)

1. Номер каждому коммиту присваивается неспроста. К примеру, он позволяет нам ссылаться на конкретные версии файла, чтобы сравнивать их друг с другом. Для этого служит команда: 

        git diff hash1 hash2

   В результате выполнения этой команды в окне терминала мы увидим все различия между коммитами c номерами hash1 и hash2: 

   все добавления будут предваряться знаком "+" и будут выделены зеленым шрифтом, а 

   все удаления будут предваряться знаком "-" и будут выделены красным шрифтом. 

2. Иногда бывает полезно ознакомиться с только что произведенными изменениями в текущей версии файла перед его сохранением в коммит. Для этого можно использовать команду: 

        git diff

   Она произведет сравнение произведенных нами и еще не "закоммиченных" при помощи команды commit изменений с последним сохраненным коммитом, и покажет нам все изменения. 

   Здесь важно заметить, что перед выполнением данной команды необходимо выполнить сохранение наших действий в индекс при помощи сочетания клавиш Ctrl+S. Иначе нам будет сообщено, что изменений нет. 

## Перемещение по версиям и веткам

Нумерация версий (коммитов) и именование веток (branch) позволяет нам перемещаться между ними, возвращаясь к прежним версиям наших файлов и распараллеливая работу над отдельными их фрагментами. 

(Про ветки мы напишем позже.)

1. Переход к коммиту с номером __*hash*__

        git checkout hash

   Пример: git checkout e511c94


2. Чтобы перейти к последней версии файла, сохраненной нами на главной ветке, следует выполнить команду: 

        git checkout master

3. Чтобы перейти к последней версии файла, сохраненной нами на некоторой ветке с именем "branch_name", нужно в качестве аргумента команды просто указать ее имя: 

        git checkout branch_name

## Отображение статуса текущего репозитория

Команда 

        git status

отображает текущее состояние рабочего каталога и позволяет увидеть файлы, которые не отслеживаются Git, а также увидеть, какие у нас созданы ветки, и где по отношению к ним располагается текущая.

## Ветвления

Ветвления в Гит нужны для...

### Создание новой ветки

Чтобы создать новую ветку, нужно ввести команду: 

        git branch <newbranch>

где \<newbranch> - это имя создаваемой ветки

### Слияние веток